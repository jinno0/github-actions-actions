run_id: "run-2026-02-08T00:34:22Z"
timestamp: "2026-02-08T00:34:22Z"
executor_version: "15_repo_improvement_executor v1.0"
audit_run_id: "2026-02-08"

# Execution Scope
scope:
  # PRs generated from roadmap by executor (since auditor didn't generate specific PR-XXX.md)
  prs_to_apply:
    - "PR-001"  # Add YAML linting to CI (ISS-006)
    - "PR-002"  # Document Claude CLI version (ISS-002)
    - "PR-003"  # Improve test coverage to 95%+ (ISS-007)

  # Deferred PRs (require external coordination)
  prs_deferred:
    - "ISS-001: Pilot onboarding (requires org leadership)"
    - "ISS-003: Runner inventory (requires infrastructure team)"
    - "ISS-004: Metrics collection (requires pilot projects)"
    - "ISS-005: Dry-run verification (requires separate workflow execution)"

  reasoning: |
    Auditor provided roadmap only, not specific PR-XXX.md files.
    Executor converted roadmap items into executable PRs.
    Selected technical improvements that are:
    1. Within executor's control (no external teams/infrastructure)
    2. Clearly defined and executable
    3. High impact for repository quality

# Success Criteria (from intent.yml)
success_criteria:
  - id: "SC-001"
    source: "intent.yml#quality_attributes[0]"
    target: "テストカバレッジ >= 80%"
    current: 92.99%
    verification_command: "pytest --cov=. --cov-report=term-missing"
    priority: "maintain"

  - id: "SC-002"
    source: "intent.yml#quality_attributes[2]"
    target: "YAML構文チェック: 0 errors"
    current: "unknown"
    verification_command: "yamllint actions/*/action.yml examples/*.yml instructions/*.yml .github/workflows/*.yml"
    priority: "establish"

  - id: "SC-003"
    source: "ISS-002 gap resolution"
    target: "Claude CLI version documented"
    current: "not documented"
    verification: "README.md contains version requirements section"
    priority: "establish"

# Rollback Triggers
rollback_triggers:
  - "検証失敗 - New tests fail"
  - "既存テスト失敗 - Regression in existing tests"
  - "ビルドエラー - CI workflow fails"
  - "YAML linting breaks valid YAML"

# Budget
budget:
  max_prs_per_run: 5
  max_file_changes_per_pr: 10
  max_lines_per_file: 100
  max_execution_minutes: 30

# Execution Phases
phases:
  - phase: 1
    name: "Input Validation & Planning"
    status: "in_progress"

  - phase: 2
    name: "Before Snapshot"
    status: "pending"

  - phase: 3
    name: "Apply Improvements"
    status: "pending"

  - phase: 4
    name: "After Snapshot"
    status: "pending"

  - phase: 5
    name: "Effect Measurement"
    status: "pending"

  - phase: 6
    name: "Feedback Generation"
    status: "pending"

  - phase: 7
    name: "GC & Commit"
    status: "pending"
