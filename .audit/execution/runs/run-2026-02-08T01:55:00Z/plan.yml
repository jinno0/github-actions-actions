run_id: "run-2026-02-08T01:55:00Z"
timestamp: "2026-02-08T01:55:00Z"
executor: "15_repo_improvement_executor v1.0"
audit_run_id: "2026-02-08"

scope:
  prs_to_apply:
    - id: "PR-004"
      title: "Fix YAML Syntax Errors (ISS-NEW-001)"
      priority: "HIGH"
      estimated_effort: "15 minutes"
      risk: "LOW"
      gap_resolved: "ISS-NEW-001"
    - id: "PR-005"
      title: "Address YAML Line Length Warnings (ISS-NEW-002)"
      priority: "LOW"
      estimated_effort: "1-2 hours"
      risk: "LOW"
      gap_resolved: "ISS-NEW-002"

  prs_deferred:
    - id: "PR-003"
      reason: "Requires detailed test file creation - better suited for dedicated testing cycle"
      recommendation: "Execute in next cycle as file-specific PRs"

success_criteria:
  - id: "SC-001"
    source: "intent.yml#quality_attributes[2]"  # QA-003: YAML Syntax
    target: "全YAMLファイルがパース可能 (yamllint passes with 0 errors)"
    verification:
      type: "syntax_check"
      command: "yamllint actions/*/action.yml examples/*.yml instructions/*.yml"
      criteria:
        operator: "=="
        value: 0
        unit: "errors"
      interpretation:
        success_means: "全てのYAMLファイルに構文エラーがない"
        failure_means: "YAMLファイルにインデントや構文の問題がある"

  - id: "SC-002"
    source: "intent.yml#quality_attributes[0]"  # QA-001: Test Coverage
    target: "テストカバレッジ >= 80% (maintained)"
    verification:
      type: "measurement"
      command: "pytest --cov=. --cov-report=term-missing"
      criteria:
        operator: ">="
        value: 80
        unit: "%"
      interpretation:
        success_means: "改善後もカバレッジ基準を維持"
        failure_means: "改善で既存テストが破壊された"

  - id: "SC-003"
    source: "feedback from previous run"
    target: "No regressions in existing tests"
    verification:
      type: "test_execution"
      command: "pytest -v"
      criteria:
        operator: "=="
        value: 0
        unit: "failed_tests"
      interpretation:
        success_means: "全ての既存テストがパス"
        failure_means: "改善でテストが破壊された"

rollback_trigger:
  - "yamllint reports new errors"
  - "Existing tests fail"
  - "Test coverage drops below 80%"
  - "Action.yml files become invalid YAML"

quality_attributes_to_verify:
  - id: "QA-001"
    name: "テストカバレッジ"
    target: ">= 80%"
    current_value: "92.99%"
    verification_method: "pytest --cov"

  - id: "QA-003"
    name: "YAML構文チェック"
    target: "0 errors"
    current_value: "3 errors (from PR-001 discovery)"
    verification_method: "yamllint"

budget:
  max_prs_per_run: 2
  max_file_changes_per_pr: 10
  time_budget_minutes: 30

assumptions_being_tested:
  - id: "ASM-002"
    field: "quality_attributes[0].target"
    value: ">= 80%"
    being_tested: true
    confidence: "high"
