# 確認事項と仮定の報告

**Audit Run**: audit-run-001  
**Date**: 2026-02-04

## Overview

対話ができないため、以下の仮定に基づいて監査を完了させました。  
認識が異なる場合は `.audit/config/intent.yml` を修正してください。

---

## 適用した仮定

| ID | 項目 | 仮定した値 | 根拠 | 自信度 |
|----|------|------------|------|--------|
| ASM-001 | ターゲットユーザー | GitHub Self-hosted Runnerを使用する中規模〜大規模組織 | README.mdで"Self-hosted runner上で動作するClaude Code CLI"を前提 | high |
| ASM-002 | 対象プロジェクト | TypeScript/Python/Reactプロジェクトを中心 | README.mdのカスタムレビュールールでこれらを例示 | medium |
| ASM-003 | テストカバレッジ目標 | ≥70% | pytest.iniで--cov-fail-under=70と設定 | high |
| ASM-004 | AIレビュー受入率目標 | ≥70% | README.mdで目標として明記 | high |
| ASM-005 | インフラ | Self-hosted RunnerにClaude Code CLIがインストール済み | AGENTS.mdで前提として記載 | high |
| ASM-006 | Runner OS | Linux系OS（Ubuntu等） | GitHub Actionsの標準的Self-hosted環境 | medium |

---

## 質問と確認リスト

### 次回の精度向上のための確認事項

以下の質問に対する回答を `.audit/config/intent.yml` に反映してください。

#### 1. ターゲットユーザーの確認 (ASM-001, ASM-002)

- [ ] **ASM-001**: 「中規模〜大規模組織」で合っていますか？
  - 代替案: 小規模組織/個人開発者も含む？
  - 影響範囲: READMEのトーン、導入ガイドの詳細度

- [ ] **ASM-002**: 「TypeScript/Python/React中心」で合っていますか？
  - 代替案: Go/Rust/Java等も含む？
  - 影響範囲: カスタムルールの例示、サポート言語のドキュメント

#### 2. 品質目標の確認 (ASM-003, ASM-004)

- [ ] **ASM-003**: テストカバレッジ70%目標は適切ですか？
  - 現状: pytest.iniで設定済み
  - 達成状況: 23.06%（46.94%不足）
  - 選択肢:
    - 維持する（推奨）: PR-004で改善
    - 引き下げる（例: 60%）: pytest.ini修正
    - 引き上げる（例: 80%）: より多くのテストが必要

- [ ] **ASM-004**: AIレビュー受入率70%目標は適切ですか？
  - 現状: README.mdで記載あり
  - 実測値: 不明（C-018）
  - 選択肢:
    - 維持する: PR-002で計測開始
    - 調整する: 目標値を変更

#### 3. インフラの確認 (ASM-005, ASM-006)

- [ ] **ASM-005**: Self-hosted RunnerへのClaude Code CLIインストールは前提で良いですか？
  - 現状: AGENTS.mdで前提として記載
  - 選択肢:
    - はい（推奨）: 現状維持
    - いいえ: Dockerコンテナ等の代替手段を考慮

- [ ] **ASM-006**: 「Linux系OS（Ubuntu等）」で合っていますか？
  - 現状: 仮定
  - 選択肢:
    - はい: 様々なLinuxディストリビューションを想定
    - いいえ: macOS/Windowsもサポート
    - 限定する: Ubuntuのみ公式サポート

#### 4. 運用メトリクスの確認

- [ ] **テレメトリー収集状況**: 現在、テレメトリーは収集されていますか？
  - README.md:98-119で収集機能ありと記載
  - C-020: 実行回数・成功率が不明
  - 確認事項:
    - 収集は開始されているか？
    - データはどこに保存されているか？
    - 可視化ダッシュボードはあるか？

- [ ] **導入リポジトリ数**: 組織内で何リポジトリが導入していますか？
  - PURPOSE.md:70で成功条件として記載
  - C-019: 現状不明
  - 確認事項:
    - 0リポジトリ（まだ開始されていない）
    - 1-5リポジトリ（パイロット段階）
    - 6+リポジトリ（本格展開中）

- [ ] **AIレビュー受入率**: 現在、実際の受入率は何%ですか？
  - README.md:127で目標70%と記載
  - C-018: 実測値不明
  - 確認事項:
    - 計測は開始されているか？
    - 目標70%は現実的か？
    - 実績値を共有可能か？

---

## 不明点（Unknowns）の解決方法

### C-018: AIレビュー受入率

**現状**: 実測値が不明  
**検証方法**: `python scripts/calculate_acceptance_rate.py --output report --time-period 7d`  
**次のアクション**: 
- [ ] スクリプトを実行してレポート生成
- [ ] 定期実行をCIに追加（PR-002）
- [ ] READMEに実績値を追記

### C-019: 組織内導入リポジトリ数

**現状**: 導入状況が不明  
**検証方法**: 
- 使用状況アンケート実施
- テレメトリーデータの分析（一意なリポジトリ数）
- 手動でのリスト作成
**次のアクション**:
- [ ] 導入リポジトリ追跡システム作成（PR-003）
- [ ] 定期調査の実施

### C-020: Action実行回数と成功率

**現状**: 実行回数・成功率が不明  
**検証方法**: テレメトリーデータの集計  
**次のアクション**:
- [ ] テレメトリー集計スクリプト作成（PR-001）
- [ ] 週次レポート自動化
- [ ] ダッシュボード作成

---

## 仮定が正しくなかった場合の対応

### 仮定を修正する場合

1. `.audit/config/intent.yml` を編集
2. 該当する `assumptions` エントリを更新
3. 再監査を実行（または改善提案を修正）

### 例: ASM-003を修正する場合

```yaml
# .audit/config/intent.yml
assumptions:
  - id: "ASM-003"
    field: "quality_attributes.test_coverage"
    value: ">= 60%"  # 70%から60%に引き下げ
    reason: "現状のリソースで現実的な目標"
    confidence: "high"
```

その後:
- `pytest.ini` の `--cov-fail-under=70` を `60` に修正
- PR-004の目標カバレッジを60%に調整

---

## 優先順位: どの仮定から確認すべきか

### 高優先度（監査結果に大きな影響）

1. **ASM-003** (テストカバレッジ70%)
   - 影響: PR-004の規模と期間
   - 確認期限: 改善開始前

2. **ASM-004** (AIレビュー受入率70%)
   - 影響: PR-002の目標値
   - 確認期限: 早期（計測開始のため）

### 中優先度（運用面での影響）

3. **ASM-001** (ターゲットユーザー)
   - 影響: READMEのトーン、ドキュメントの詳細度
   - 確認期限: 次回ドキュメント更新時

4. **テレメトリー収集状況** (C-020)
   - 影響: PR-001の必要性と規模
   - 確認期限: 早期（現状把握のため）

### 低優先度（微調整）

5. **ASM-002** (対象プロジェクト)
   - 影響: カスタムルールの例示
   - 確認期限: 次回機能拡張時

6. **ASM-006** (Runner OS)
   - 影響: ドキュメントの記述
   - 確認期限: 他OSサポート開始時

---

## フィードバックの提供方法

この監査に関するフィードバックは以下の方法で提供してください:

### 1. 仮定の修正
- ファイル: `.audit/config/intent.yml`
- 方法: 該当する `assumptions` エントリを編集

### 2. 改善提案のフィードバック
- ファイル: `.audit/proposal/changes/PR-*.md`
- 方法: 各PRファイルにコメント追加

### 3. 次回監査への要望
- ファイル: `.audit/output/next_questions.md` (このファイル)
- 方法: 追加の質問・確認事項を記載

---

## 次回監査時の改善点

今回の監査で得られた知見を次回に活かします:

1. **仮定の精緻化**: ユーザーフィードバックを反映
2. **検証方法の強化**: 実際のメトリクスデータを活用
3. **ギャップ分析の深化**: 実運用上の課題を特定
4. **改善提案の具体化**: 実行可能なアクションプラン作成

---

**Document Version**: 1.0  
**Last Updated**: 2026-02-04T02:20:00Z  
**Maintained By**: Repo Genesis Auditor v2.0
