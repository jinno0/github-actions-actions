# 確認事項と仮定の報告

**Audit ID**: audit-run-001
**Date**: 2026-02-04

---

## 重要: 非同期監査の完了について

この監査は、ユーザーとのリアルタイム対話なしで完了しました。
不明点は**論理的な仮定**に基づいて処理されています。

以下の仮定について、認識が異なる場合は `.audit/config/intent.yml` を修正してください。

---

## 適用した仮定

| ID | 項目 | 仮定した値 | 根拠 | 検証結果 |
|----|------|------------|------|----------|
| ASM-001 | ターゲットユーザー | Self-hosted runner + Claude Code CLIを使用するGitHub組織 | README.md:82-85が前提条件として明記 | ✅ ** confirmed** - READMEとPURPOSEで明示的に言及 |
| ASM-002 | テストカバレッジ目標 | >= 70% | pytest.ini:22 に `--cov-fail-under=70` と記載 | ✅ **confirmed** - 設定ファイルで明示的に指定 |
| ASM-003 | AIレビュー受入率目標 | >= 70% | README.md:127 に目標として記載 | ✅ **confirmed** - READMEで明示的に言及 |
| ASM-004 | テレメトリのオプトアウト | DISABLE_TELEMETRY環境変数で無効化可能 | README.md:100-119 にプライバシー機能として記載 | ✅ **confirmed** - テレメトリセクションで明示的に記述 |

**すべての仮定がソースファイルにより検証され、確定事項として扱われます。**

---

## 明確化された「不明」(Unknowns)

以下の項目は、監査時点では不明でしたが、**データ収集手順**を提案しています：

### C-011: 実際のテストカバレッジ
- **現状**: Unknown (coverage.jsonは存在するが未解析)
- **必要なアクション**: PR-001の実施
  ```bash
  pytest --cov=. --cov-report=json:coverage-baseline.json
  ```

### C-012: 組織内導入リポジトリ数
- **現状**: Unknown (PURPOSE.md:25 が未完了)
- **必要なアクション**: PR-003の実施
  ```bash
  python scripts/track_adoption.py
  ```

### C-013: AIレビュー受入率の現状
- **現状**: Unknown (計算スクリプトは存在するが未実行)
- **必要なアクション**: PR-001の実施
  ```bash
  python scripts/calculate_acceptance_rate.py --time-period 30d
  ```

---

## チームへの確認事項

### 優先度高: 実行確認

#### Q1. テストカバレッジの現状を知っていますか？
- **背景**: pytest.iniで70%以上要求されていますが、実際の値は不明です
- **推測**: おそらく70%以上は満たしている（30個のテストファイルが存在）
- **確認方法**:
  ```bash
  cd /home/jinno/github-actions-actions
  pytest --cov=. --cov-report=term-missing
  ```
- **アクション**: PR-001でベースラインを策定することを推奨

#### Q2. AIレビュー受入率の現状を知っていますか？
- **背景**: READMEで70%以上目標として言及されていますが、現在の値は不明です
- **推測**: おそらく「データなし」（まだ本番運用が開始されていない可能性）
- **確認方法**:
  ```bash
  python scripts/calculate_acceptance_rate.py --time-period 30d
  ```
- **アクション**: PR-001でベースラインを策定することを推奨（データがなくても「初期状態」として記録）

#### Q3. どのリポジトリで使用されていますか？
- **背景**: PURPOSE.mdのPhase 3完了条件に「複数のリポジトリで採用」とあります
- **推測**: おそらく2-3個のリポジトリで試験導入中
- **確認方法**: チーム内でヒアリング、またはテレメトリデータの確認
- **アクション**: PR-003で追跡仕組みを導入することを推奨

---

### 優先度中: 方針確認

#### Q4. GAP-003（ドキュメント不足）の対応方針は？
- **現状**: 4つのアクション(auto-merge, publish-pr, bulk-merge-prs, bulk-rebase-prs)にinstructions/ファイルがありません
- **推奨**: PR-002で完全なドキュメントを追加
- **質問**:
  - これらのアクションは「使われない予定」ですか？
  - それとも「単にドキュメントを書いていないだけ」ですか？
  - 使う予定があるなら、PR-002を実施することを推奨

#### Q5. テレメトリデータは収集されていますか？
- **現状**: テレメトリ機能は実装されていますが、実際にデータがあるかは不明
- **推奨**: PR-003で追跡スクリプトを実行し、データの有無を確認
- **質問**:
  - 既にテレメトリデータがある場合は、PR-003の実施が容易になります
  - データがない場合は、代替案（手動登録）を検討しますか？

---

### 優先度低: 将来の改善

#### Q6. GAP-005（Dry-run検証）の対応は必要ですか？
- **現状**: README.md:94で「Dry Runモードで自動検証」と主張されていますが、実装は未確認
- **推奨**: 次回監査で詳細検証（今回はYAML構文のみ確認）
- **質問**:
  - この機能は重要ですか？（重要なら次回優先度高で検証）

#### Q7. ユーザー満足度を測定しますか？
- **現状**: 受入率（Acceptance Rate）はありますが、満足度調査はありません
- **推奨**: Phase 4でアンケートやインタビューを検討
- **質問**:
  - 「AIに任せられる雑務が増えた」をどう測定しますか？

---

## 仮定に関するチームのアクション

### 仮定が正しい場合
- 何もしなくてOKです。監査結果は有効です。

### 仮定が正しくない場合
1. `.audit/config/intent.yml` を編集
2. `assumptions` セクションで誤っている仮定を修正
3. 次回監査実行時に修正された値が使用されます

**例**: ターゲットユーザーが「GitHub組織」ではなく「一般のOSS開発者」の場合
```yaml
assumptions:
  - id: "ASM-001"
    field: "mission.target_user"
    value: "一般のOSS開発者（self-hosted runner不要）"
    reason: "実は誰でも使えるようにしたい"
    confidence: "low"  # チームで確認が必要
```

---

## 次のステップ

### 推奨アクション（優先順）

1. **PR-001をレビュー・承認** (最優先)
   - 2時間で完了
   - ベースライン測定のみ（コード変更なし）
   - リスク低

2. **PR-003をレビュー・承認** (次優先)
   - 5時間で完了
   - 導入状況が見える化される
   - Phase 3完了に必須

3. **PR-002をレビュー・承認** (3番目)
   - 3時間で完了
   - ドキュメント完備（QC-002満たす）
   - ユーザビリティ向上

### 監査結果の活用方法

#### 監査結果を信頼する場合
- 上記PRをそのまま実行してください
- 推定総工数: 8-11時間

#### 方針を変更する場合
- `.audit/config/intent.yml` を修正
- `.audit/analysis/gap.yml` を確認
- PR提案を調整して再実行

---

## 用語集

- **Assumption (仮定)**: ソースファイルからの推測に基づいた設定
- **Unknown (不明)**: 現時点では不明だが、計測手順は提案されている項目
- **Gap (ギャップ)**: 現状と目標の差異
- **Confidence (確信度)**: high/medium/low - 仮定の確かさ

---

## 監査の品質に関する自己評価

**スコア**: 34/35 (97.1%)

**最も改善の余地がある項目**: Collective Intelligence (4/5)
- **理由**: チームでの協働フックが不足
- **改善案**: このnext_questions.mdでチーム確認を促進

**詳細**: `.audit/output/self_score.yml` を参照してください。

---

**最終更新**: 2026-02-04T00:54:00Z
**次回監査推奨時期**: PR-001, PR-002, PR-003 実施後（約3-4週間後）
