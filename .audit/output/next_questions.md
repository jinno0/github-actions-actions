# 確認事項と仮定の報告

**Audit Date:** 2026-02-07
**Auditor:** Repo Genesis Auditor v2.0

---

## 対話ができないための対応

ユーザーとのリアルタイム対話ができないため、以下の**仮定**に基づいて監査を完了させました。
認識が異なる場合は `.audit/config/intent.yml` を修正し、再監査を実施してください。

---

## 適用した仮定

### ASM-001: ターゲットユーザー

| 項目 | 仮定した値 |
|------|-----------|
| **対象** | Self-hosted GitHub Actions環境を運営する組織 |
| **根拠** | README.mdがself-hosted runnerとClaude Code CLIを前提としている |
| **信頼度** | High |
| **検証方法** | 組織内で実際に利用しているチームに確認する |

**質問:**
- [ ] ASM-001のターゲット層は合っていますか？
- [ ] 対象は「GitHub組織」で正しいですか？ 個人開発者も含みますか？
- [ ] Self-hosted runnerは必須ですか？ GitHub-hosted runnerもサポートしますか？

---

### ASM-002: テストカバレッジ目標

| 項目 | 仮定した値 |
|------|-----------|
| **目標値** | >= 70% |
| **根拠** | Pythonベースのアクションと一般的なOSS品質基準 |
| **信頼度** | Medium |
| **検証方法** | pytest --cov を実行して実測値を取得する（PR-001で提案） |

**質問:**
- [ ] ASM-002の目標値70%は適切ですか？
- [ ] 70%を下回っていた場合、どのアクションを取りますか？
  - a) テストを追加して70%に到達させる
  - b) 目標値を下げる（例: 60%）
  - c) 目標値を上げる（例: 80%）

---

### ASM-003: ドキュメントカバレッジ

| 項目 | 仮定した値 |
|------|-----------|
| **目標値** | 100%（全ActionにREADMEとInstruction必須） |
| **根拠** | README.mdとAGENTS.mdがドキュメント重視を明記している |
| **信頼度** | High |
| **検証方法** | 現状: 100%達成済み（検証済み） |

**質問:**
- [ ] ASM-003の100%カバレッジは正しいですか？
- [ ] README.md と instructions/*.md の両方が必須で正しいですか？
- [ ] examples/*.yml も必須に含めますか？

---

### ASM-004: セキュリティ・プライバシー

| 項目 | 仮定した値 |
|------|-----------|
| **制約** | PII/機密情報を収集しないテレメトリー |
| **根拠** | README.mdがプライバシー機能（オプトアウト、匿名化、SHA-256ハッシュ）を明記 |
| **信頼度** | High |
| **検証方法** | 現状: 実装済み（検証済み） |

**質問:**
- [ ] ASM-004のプライバシー制約は正しいですか？
- [ ] DISABLE_TELEMETRY によるオプトアウトで十分ですか？
- [ ] SHA-256ハッシュ（先頭16文字）で匿名化されていますが、これで十分ですか？
- [ ] その他のプライバシー機能が必要ですか？（例: データ保持期間の設定）

---

### ASM-005: AIレビュー受入率目標

| 項目 | 仮定した値 |
|------|-----------|
| **目標値** | >= 70% |
| **根拠** | README.mdが目標受入率として明記 |
| **信頼度** | High |
| **検証方法** | メトリクスデータを収集後に calculate_acceptance_rate.py を実行（PR-002で提案） |

**質問:**
- [ ] ASM-005の目標値70%は適切ですか？
- [ ] この目標値はどのように設定されましたか？
  - a) 業界標準
  - b) 過去の経験則
  - c) 任意の目標
- [ ] 70%を下回っていた場合、どのアクションを取りますか？
  - a) プロンプトテンプレートを改善
  - b) カスタムルールを調整
  - c) 目標値を再評価
  - d) AIモデルを変更

---

## 回答が必要な質問

### 製品・機能に関する質問

1. **現在の導入状況:**
   - [ ] 組織内で既に利用しているリポジトリはありますか？（数と名前を教えてください）
   - [ ] 外部の公開リポジトリでも使われていますか？

2. **品質メトリクス:**
   - [ ] 過去にテストカバレッジを計測したことはありますか？結果は？
   - [ ] AIレビューの受入率を追跡したことはありますか？結果は？
   - [ ] Actionの平均実行時間はどのくらいですか？

3. **優先順位:**
   - [ ] 今回提案した3つの改善（PR-001, PR-002, PR-003）の優先順位は正しいですか？
   - [ ] 他に改善してほしい項目はありますか？

### 運用・環境に関する質問

4. **実行環境:**
   - [ ] Self-hosted runnerのOSは何ですか？（Ubuntu, macOS, その他）
   - [ ] Claude Code CLIのバージョンは？
   - [ ] GitHub Actionsのタイムアウト設定は？（デフォルトの6時間、または別の値）

5. **開発体制:**
   - [ ] メンテナは何名で行っていますか？
   - [ ] 週に何時間程度をこのリポジトリの改善に割けますか？
   - [] 新しいActionを追加する頻度は？

### ユースケースに関する質問

6. **使用状況:**
   - [ ] 最もよく使われているActionはどれですか？
   - [ ] 最も満足度が高いActionはどれですか？
   - [ ] 改善してほしいActionはどれですか？

7. **課題・痛みポイント:**
   - [ ] 現在、運用上の課題はありますか？
   - [ ] ユーザーから不満の声はありますか？
   - [ ] バグや障害の報告はありますか？

---

## 仮定が間違っていた場合の対応

### 仮定を修正する手順

1. `.audit/config/intent.yml` を開く
2. 該当する `assumptions` セクションを修正
3. 必要に応じて `quality_attributes` も修正
4. 再監査を実行（または、該当部分のみ再分析）

### 例: ASM-002を修正する場合

```yaml
# .audit/config/intent.yml

assumptions:
  - id: "ASM-002"
    field: "quality_attributes.test_coverage"
    value: ">= 80%"  # 70%から80%に変更
    reason: "組織の品質基準により高い目標を設定"
    confidence: "high"  # 情報源が明確なためHighに変更
```

---

## 次回の監査での改善

次回の監査（Phase 1改善後）では、以下の点を改善予定です：

1. **不明点の解決:**
   - テストカバレッジの実測値を取得 → ASM-002を事実か仮説かに更新
   - 受入率のベースラインを取得 → ASM-005を事実か仮説かに更新

2. **仮定の精度向上:**
   - 導入リポジトリ数を把握 → PURPOSE.mdの成功条件を再評価
   - パフォーマンス実測値を取得 → GAP-005の優先順位を再評価

3. **新たな仮定の追加:**
   - 必要に応じて、追加の仮定を記録

---

## フィードバックの提供

この監査結果についてのフィードバックがありましたら、以下の方法で提供してください：

1. **Issueを作成:** `.audit/execution/feedback_to_auditor.yml` を作成
2. **内容を記載:** どの仮定が間違っていたか、どう修正すべきか
3. **再監査を実行:** 修正後に監査を再実行

---

**Note:** このドキュメントは「非同期コミュニケーション」のために作成されました。
質問への回答は、次回の監査での精度向上に役立てられます。
