# 確認事項と仮定の報告

対話ができないため、以下の仮定に基づいて監査を完了させました。  
認識が異なる場合は `.audit/config/intent.yml` を修正してください。

---

## 適用した仮定

| ID | 項目 | 仮定した値 | 根拠 | 自信度 |
|----|------|------------|------|--------|
| ASM-001 | ターゲットユーザー | GitHub Actionsを使用する開発チーム | README.mdで「GitHub組織全体の開発効率」と記載 | high |
| ASM-002 | テスト要件 | Dry Run検証が必須 | AGENTS.mdですべてのActionがDry Runモードで自動検証されると明記 | high |
| ASM-003 | 構成標準 | 3点セットが必須（action.yml, example.yml, instruction.md） | AGENTS.mdで「Action構造標準」として定義 | high |
| ASM-004 | 実行環境 | Self-hosted runner上でClaude Code CLIが実行可能である必要がある | README.mdとAGENTS.mdで明記されている前提条件 | high |

---

## 質問（次回の精度向上のため）

### README.mdに関する質問

- [ ] **Q1**: README.mdに記載されていない7つのアクション（auto-merge, auto-rebase, bulk-merge-prs, bulk-rebase-prs, pr-review-enqueuer, publish-pr, review-auto-merge）の状態は何ですか？
  - 選択肢:
    - A) 実験中でまだ公開するつもりはない
    - B) 内部専用で外部ユーザー向けではない
    - C) 単にドキュメントが漏れている（PR-001で修正すべき）
    - D) その他（具体的に: ____）
  - **推測**: C) 単にドキュメントが漏れていると仮定し、PR-001を提案しました

### templates/ ディレクトリに関する質問

- [ ] **Q2**: 6つのアクション（auto-merge, bulk-merge-prs, bulk-rebase-prs, pr-review-enqueuer, publish-pr, review-auto-merge）がtemplates/を持っていないのは、設計上の意図的なものですか？
  - 選択肢:
    - A) はい、これらはシンプルなユーティリティアクションでプロンプトテンプレートが不要
    - B) いいえ、プロンプトをaction.ymlにハードコードしている（外部化すべき）
    - C) いいえ、テンプレートを追加するのを忘れている
    - D) その他（具体的に: ____）
  - **推測**: A) 設計上の意図と仮定しましたが、確認が必要です（ISS-002）

### テストカバレッジに関する質問

- [ ] **Q3**: Pythonヘルパースクリプトのテストカバレッジ目標値はいくつですか？
  - 現状: pytest.iniにpytest-covがコメントアウトされている
  - **推測**: 一般的なOSS基準の80%を仮定しましたが、実際の目標を教えてください

### 採用メトリクスに関する質問

- [ ] **Q4**: 組織内でのアクション採用状況を把握していますか？
  - 現状: PURPOSE.mdの成功条件「組織内の複数のリポジトリで採用される」が測定できていない
  - **推測**: 現在は未測定と仮定しました。採用数を知っている場合は、ISS-006の優先度を下げてください

### Core Function Verificationに関する質問

- [ ] **Q5**: 構造検証（レイヤー1）だけで十分ですか？それとも実際の機能検証（レイヤー2-3）も必要ですか？
  - 現状: action.ymlとtemplates/の存在確認のみ実施
  - **推測**: ジェネシス監査としては構造検証で十分と判断しました
  - **注**: 完全な機能検証にはClaude Code CLIとテストリポジトリのセットアップが必要です

---

## 検証が必要な不確実要素

### Unknowns (情報不足で確定できない項目)

1. **C-014: Pythonスクリプトの実際のテストカバレッジ**
   - 必要な情報: pytest --cov の実行結果
   - 検証方法: pytest-covを有効化して実行

2. **C-015: アクションの実際の採用数**
   - 必要な情報: 組織内でこれらのアクションを使用しているリポジトリ数
   - 検証方法: GitHub組織でアクションの使用状況を調査

3. **ISS-002の根拠**: templates/がない6アクションの設計意図
   - 必要な情報: 各アクションのfunction.ymlを確認しプロンプトの有無を確認
   - 検証方法: 各アクションのREADME/ドキュメントをレビュー

---

## 次回アクションの推奨事項

### 優先度高（今週実施）

1. **README.mdを更新する** (PR-001, 15分)
   - 上記Q1の回答にかかわらず、すべてのアクションを文書化することを推奨
   - 理由: ハブリポジトリとしては完全な可視性が重要

2. **Core Function Verificationスクリプトのバグを修正** (PR-003, 10分)
   - `Path.read()` → `open(path).read()` に修正
   - CIに追加して自動実行

3. **テストカバレッジを有効化** (PR-004, 30分)
   - pytest.iniのpytest-covコメントアウトを解除
   - Q3の回答を待たずに、とりあえず計測開始を推奨

### 優先度中（来週実施）

4. **6つのtemplates/なしアクションをレビュー** (2時間)
   - Q2の回答に基づいてアクションをとる
   - プロンプトがあるなら外部化、なければ意図をドキュメント化

### 優先度低（来月以降）

5. **採用メトリクスの仕組みを検討** (4時間)
   - Q4の回答に基づいて優先度を調整
   - すでに採用されているなら、測定方法を確立
   - まだ採用されていないなら、まずは採用を促進することを優先

---

## 仮定の修正方法

監査結果の仮定が正しくない場合、以下の手順で修正してください：

1. `.audit/config/intent.yml` を開く
2. 関連する仮定を更新または削除
3. 必要に応じて `.audit/analysis/gap.yml` の関連ギャップを再評価
4. 次回の監査実行時に修正された設定が使用されます

---

## 監査の品質に関するフィードバック

この監査の品質を向上させるために、以下のフィードバックを提供してください：

- [ ] 仮定が合理的でしたか？
- [ ] 見逃している重要な問題はありますか？
- [ ] 提案された改善プランは実行可能ですか？
- [ ] レポートは十分詳細でしたか？

フィードバックは `.audit/execution/feedback_to_auditor.yml` に記録してください（15_repo_improvement_executorが参照します）。

---

**最終更新**: 2026-01-31T21:45:00Z  
**次回監査**: Phase 1完了後（PR-001, PR-003, PR-004実施後）
