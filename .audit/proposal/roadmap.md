# 改善ロードマップ

**作成日**: 2025-02-03
**更新日**: 2026-02-03
**作成者**: Repo Genesis Auditor (run-initial → run-cycle2)
**バージョン**: 2.0

## 概要

本ロードマップは、`github-actions-actions` リポジトリの監査結果に基づく改善提案を優先順位付きで整理したものです。

**Cycle 1 実施状況**: ✅ 完了 (2026-02-03)
- 品質スコア: 25/25
- 成功率: 100% (3/3 PRs成功)
- 統合テストカバレッジ: 0% → 53.8%

**Cycle 2 実施予定**: 🔄 提案段階
- 目標: 統合テストカバレッジ 100%達成

## 優先順位の原則

1. **安全性 > 品質 > 可視化**
2. **機能的テストの導入**が最優先（ISS-001: HIGH）
3. **品質メトリクスの公開**が次優先（ISS-003: MEDIUM）
4. **導入率の可視化**がその次（ISS-002: MEDIUM）

---

## Phase 1: 機能的テスト導入（優先度: HIGH）

**期間**: 2-3週間
**関連PR**: PR-001-functional-testing.md
**関連ギャップ**: ISS-001

### 目標

構造的テスト（97.51%）に加え、Actionsの実行時動作を検証する統合テストを導入する。

### マイルストーン

1. **Week 1: 基盤整備**
   - [ ] actツールのインストールと検証
   - [ ] テスト環境の構築（Mock GitHub API）
   - [ ] `tests/integration/` ディレクトリの作成

2. **Week 2: 最初の統合テスト実装**
   - [ ] `review-and-merge` actionの統合テスト
   - [ ] `auto-merge` actionの統合テスト
   - [ ] CIでの自動実行設定

3. **Week 3: カバレッジ拡張**
   - [ ] 残り11 Actionsのうち、重要な5つで統合テスト実装
   - [ ] TESTING.mdの更新（Phase 2 statusを "In Progress" に変更）
   - [ ] ドキュメント作成（統合テストの追加方法）

### 成功基準

- [ ] 少なくとも7つのActionで統合テストが実装されている
- [ ] CIで統合テストが自動実行されている
- [ ] 統合テストのカバレッジが50%以上（Actions数ベース）

### 依存関係

- なし（他の改善提案に依存しない）

---

## Phase 2: 品質メトリクスの公開（優先度: MEDIUM）

**期間**: 1-2週間
**関連PR**: PR-002-quality-metrics-dashboard.md
**関連ギャップ**: ISS-003

### 目標

AIレビューの受入率（Acceptance Rate）を可視化するダッシュボードを構築し、透明性を高める。

### マイルストーン

1. **Week 1: レポート生成**
   - [ ] `scripts/generate_metrics_report.py` の実装
   - [ ] 既存の `calculate_acceptance_rate.py` の評価と修正
   - [ ] 最初のメトリクスレポート生成

2. **Week 2: 自動化と公開**
   - [ ] GitHub Actionsでの週次メトリクス収集
   - [ ] README.mdへのメトリクスセクション追加
   - [ ] `metrics/QUALITY_METRICS.md` の公開

### 成功基準

- [ ] 週次でメトリクスレポートが自動生成される
- [ ] README.mdからメトリクスページにリンクが張られている
- [ ] 受入率の傾向が見える化されている

### 依存関係

- なし（独立して実装可能）

---

## Phase 3: 導入率の可視化（優先度: MEDIUM）

**期間**: 1-2週間
**関連PR**: PR-003-telemetry-adoption-tracking.md
**関連ギャップ**: ISS-002

### 目標

テレメトリー機能を拡張し、組織・リポジトリレベルの導入率を追跡・公開する。

### マイルストーン

1. **Week 1: テレメトリー拡張**
   - [ ] 既存のテレメトリー実装を調査・評価
   - [ ] `lib/telemetry_collector.py` の実装
   - [ ] 集計機能の追加

2. **Week 2: レポートと自動化**
   - [ ] `scripts/generate_adoption_report.py` の実装
   - [ ] GitHub Actionsでの週次レポート生成
   - [ ] プライバシーポリシーの更新

### 成功基準

- [ ] ユニークリポジトリ数が集計されている
- [ ] Actionごとの使用数が見える化されている
- [ ] プライバシーが保護されている（SHA-256ハッシュ化）

### 依存関係

- 既存のテレメトリー実装の評価が必要

---

## Phase 4: 低優先度の改善（優先度: LOW）

**期間**: 随時
**関連ギャップ**: ISS-004, ISS-005

### ISS-004: Phase 2 統合テストの完全実装

- TESTING.mdのPhase 2を完全に実装
- 全13 Actionsで統合テストをカバー

### ISS-005: 権限ドキュメントの整備

- Actionごとに必要なGitHub Token権限を一覧化
- `docs/permissions-matrix.md` の作成

---

## 実装スケジュール（概要）

```text
Month 1:
  Week 1-2: Phase 1 (機能的テスト導入) - Part 1
  Week 3:   Phase 1 (機能的テスト導入) - Part 2
  Week 4:   Phase 2 (品質メトリクスの公開)

Month 2:
  Week 5-6: Phase 3 (導入率の可視化)
  Week 7-8: Phase 4 (低優先度の改善)
```

---

## リソース見積もり

| Phase | 作業量（人日） | 優先度 |
|-------|--------------|--------|
| Phase 1 | 10-15人日 | HIGH |
| Phase 2 | 5-8人日 | MEDIUM |
| Phase 3 | 5-8人日 | MEDIUM |
| Phase 4 | 3-5人日 | LOW |
| **合計** | **23-36人日** | - |

---

## 成功指標（KPI）

全改善完了後の目標値:

| 指標 | 現状 | 目標 | 評価方法 |
|------|------|------|----------|
| 構造的テストカバレッジ | 97.51% | >= 97% | pytest --cov |
| 統合テストカバレッジ | 0% | >= 50% | pytest tests/integration/ |
| 受入率（Acceptance Rate） | 不明 | >= 70% | QUALITY_METRICS.md |
| 導入リポジトリ数 | 不明 | 増加傾向 | ADOPTION_REPORT.md |
| ドキュメントカバレッジ | 100% | 100% | README.md links |

---

## 次のアクション

1. **本ロードマップのレビューと承認**
2. **Phase 1の開始**: actツールの調査とセットアップ
3. **進捗管理**: 各Phaseの完了後に `gap.yml` を更新

---

**備考**:

- 各Phaseは独立しており、並行実行が可能
- 優先度は変更される可能性がある（状況次第）
- 定期的（月1回）な監査の実施を推奨
