# Repository Constraints
# 制約条件と実行時のルール

technical_constraints:
  - type: "language"
    constraint: "Python 3.11+"
    rationale: "Claude Code CLI の要件"

  - type: "platform"
    constraint: "GitHub Self-hosted runner (Linux)"
    rationale: "外部ツールチェーンへのアクセスが必要"

  - type: "dependencies"
    constraint: "Claude Code CLI がインストールされていること"
    rationale: "AI機能の実行に必須"

budget_constraints:
  max_execution_time_minutes: 30
  max_test_execution_time_minutes: 10
  max_memory_mb: 4096

safety_constraints:
  - type: "rollback"
    constraint: "全変更はロールバック可能であること"
    enforcement: "git diff で保存"

  - type: "testing"
    constraint: "既存テストを破壊しないこと"
    enforcement: "変更前にpytest実行"

  - type: "production"
    constraint: "本番環境での直接実行禁止"
    enforcement: "ローカル/ステージングで検証"

quality_gates:
  - gate: "test_coverage"
    threshold: 80
    action: "block_deployment"

  - gate: "lint_errors"
    threshold: 0
    action: "require_fix"

  - gate: "core_function_pass_rate"
    threshold: 1.0
    action: "rollback"
