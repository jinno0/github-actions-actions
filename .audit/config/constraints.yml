version: "2.0"
updated_at: "2026-02-07T10:06:42Z"
updated_by: "audit-run-20260207-100642"

# === 制約条件 ===
constraints:
  # === 技術的制約 ===
  - id: "CON-001"
    category: "technical"
    name: "Composite Actionsのみ"
    description: "Docker container actions, JavaScript actionsは含まない"
    source: "SYSTEM_CONSTITUTION.md:29-31"
    strictness: "strict"

  - id: "CON-002"
    category: "technical"
    name: "Self-hosted Runner必須"
    description: "Claude Code CLIが利用可能なSelf-hosted Runner環境が必要"
    source: "README.md:83"
    strictness: "strict"

  - id: "CON-003"
    category: "technical"
    name: "Pythonベースのテスト"
    description: "pytestを使用したテストフレームワーク"
    source: "README.md:104, pytest.iniの存在"
    strictness: "strict"

  # === セキュリティ制約 ===
  - id: "CON-101"
    category: "security"
    name: "Secretのハードコーディング禁止"
    description: "トークン、パスワード、秘密鍵をコードに含めない"
    source: "SYSTEM_CONSTITUTION.md:64-65"
    strictness: "strict"

  - id: "CON-102"
    category: "security"
    name: "入力値のバリデーション必須"
    description: "全てのinputsでバリデーションを行う"
    source: "SYSTEM_CONSTITUTION.md:66"
    strictness: "strict"

  - id: "CON-103"
    category: "security"
    name: "第三者スクリプトの慎重な検証"
    description: "外部スクリプト実行は慎重に検証"
    source: "SYSTEM_CONSTITUTION.md:67"
    strictness: "high"

  # === 品質制約 ===
  - id: "CON-201"
    category: "quality"
    name: "単一責任の原則"
    description: "各Actionは1つの明確な目的のみを果たす"
    source: "SYSTEM_CONSTITUTION.md:36-42"
    strictness: "high"

  - id: "CON-202"
    category: "quality"
    name: "組織横断的再利用性"
    description: "組織内のどのリポジトリからでも使用可能である必要がある"
    source: "SYSTEM_CONSTITUTION.md:44-50"
    strictness: "high"

  - id: "CON-203"
    category: "quality"
    name: "バージョン固定"
    description: "タグ(v1, v2)でバージョン管理。@mainは使用しない"
    source: "SYSTEM_CONSTITUTION.md:52-58"
    strictness: "strict"

  - id: "CON-204"
    category: "quality"
    name: "ドキュメント駆動"
    description: "全Actionは自己文書化されている必要がある"
    source: "SYSTEM_CONSTITUTION.md:69-76"
    strictness: "high"

  - id: "CON-205"
    category: "quality"
    name: "テストカバレッジ >= 70%"
    description: "テストカバレッジの目標値"
    source: "README.md:100"
    strictness: "target"

  # === 運用制約 ===
  - id: "CON-301"
    category: "operational"
    name: "Human-in-the-Loop"
    description: "AIは提案・準備を行い、最終決定権は人間が持つ"
    source: "PURPOSE.md:37"
    strictness: "high"

  - id: "CON-302"
    category: "operational"
    name: "破壊的変更の禁止"
    description: "既存Actionのinputs削除や動作変更は禁止"
    source: "SYSTEM_CONSTITUTION.md:106-109"
    strictness: "strict"

  # === プライバシー制約 ===
  - id: "CON-401"
    category: "privacy"
    name: "テレメトリーのオプトアウト可能"
    description: "DISABLE_TELEMETRY環境変数で無効化可能"
    source: "README.md:123"
    strictness: "strict"

  - id: "CON-402"
    category: "privacy"
    name: "匿名化されたデータ収集"
    description: "リポジトリ名はSHA-256ハッシュ（先頭16文字）で保存"
    source: "README.md:124"
    strictness: "strict"

  - id: "CON-403"
    category: "privacy"
    name: "最小限のデータ収集"
    description: "必須メトリクスのみ（コードや機密情報は収集しない）"
    source: "README.md:125"
    strictness: "strict"
