version: "2.0"
updated_at: "2026-02-08T07:29:50Z"
updated_by: "audit-run-2026-02-08T07:29:50Z"

# === Technical Constraints ===
technical:
  - id: "TC-001"
    name: "Pythonバージョン"
    constraint: "Python >= 3.11"
    source: "pyproject.toml:9"
    rationale: "最新のPython機能を使用するため"

  - id: "TC-002"
    name: "Claude Code CLI依存"
    constraint: "Claude Code CLIがSelf-hosted Runnerにインストールされている必要がある"
    source: "README.md:82-85"
    rationale: "AIネイティブな機能の中核となるため"

  - id: "TC-003"
    name: "Self-hosted Runner必須"
    constraint: "Self-hosted GitHub Runner環境"
    source: "README.md:82-85"
    rationale: "コンテナ外のツールチェーンやリソースへのアクセスが必要なため"

  - id: "TC-004"
    name: "YAML構文"
    constraint: "GitHub Actions Workflow仕様に準拠"
    source: "AGENTS.md (推測)"
    rationale: "GitHub Actionsとして実行可能である必要があるため"

# === Operational Constraints ===
operational:
  - id: "OC-001"
    name: "Human-in-the-Loop"
    constraint: "最終決定権（マージ、デプロイ）は人間が持つ、または人間が設定した閾値に基づく"
    source: "PURPOSE.md:37-38"
    rationale: "AIのハルシネーションリスクを考慮するため"

  - id: "OC-002"
    name: "テレメトリーのオプトアウト"
    constraint: "DISABLE_TELEMETRY環境変数で無効化可能"
    source: "README.md:153-154"
    rationale: "プライバシーを重視するため"

  - id: "OC-003"
    name: "匿名化"
    constraint: "リポジトリ名はSHA-256ハッシュ（先頭16文字）で保存"
    source: "README.md:154"
    rationale: "プライバシー保護のため"

# === Security Constraints ===
security:
  - id: "SC-001"
    name: "機密情報の収集禁止"
    constraint: "コードや機密情報をテレメトリーで収集しない"
    source: "README.md:155"
    rationale: "セキュリティとプライバシーのため"

  - id: "SC-002"
    name: "最小限の権限"
    constraint: "GitHub Actionsの権限は最小限に抑える"
    source: "SECURITY_CHECKLIST.md (推測)"
    rationale: "セキュリティベストプラクティス"

  - id: "SC-003"
    name: "AIレビューの安全性"
    constraint: "AIのハルシネーションリスクを考慮し、重要な変更は人間がレビューする"
    source: "PURPOSE.md:65, non_goals"
    rationale: "AIの限界を認識し、安全側に倒すため"

# === Resource Constraints ===
resource:
  - id: "RC-001"
    name: "テストカバレッジ測定範囲"
    constraint: "actions/ と scripts/ ディレクトリのみ対象"
    source: "README.md:130"
    rationale: "ユーティリティスクリプトやテストコード自体は対象外とするため"

  - id: "RC-002"
    name: "Actionの構造要件"
    constraint: "各Actionはaction.yml, examples/, instructions/ を持つ必要がある"
    source: "AGENTS.md (推測)"
    rationale: "一貫性と再利用性を保つため"

# === Quality Constraints ===
quality:
  - id: "QC-001"
    name: "コードカバレッジ"
    constraint: ">= 70% (actions/ + scripts/)"
    source: "README.md:128-130"
    rationale: "コード品質を保証するため"

  - id: "QC-002"
    name: "AIレビュー受入率"
    constraint: ">= 70%"
    source: "README.md:177"
    rationale: "AIレビューの品質を測定・改善するため"

  - id: "QC-003"
    name: "RuffLintルール"
    constraint: "pyproject.tomlで定義されたルールに準拠"
    source: "pyproject.toml:41-57"
    rationale: "コード品質の一貫性を保つため"
