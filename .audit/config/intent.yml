version: "2.0"
updated_at: "2026-02-04T09:21:00Z"
updated_by: "audit-run-001"

# === Mission ===
mission:
  target_user: "GitHub組織のDevOpsエンジニアおよび開発チーム"
  provided_value: "AIネイティブなGitHub Actionsを通じて、開発効率とコード品質の向上を実現"
  desired_state: "組織全体でAI Actionsが採用され、AIに任せられる雑務が自動化されている状態"

# === Core Functions（本質的機能） ===
core_functions:
  - id: "CF-001"
    claim: "AIによるコードレビューと自動マージができる"
    source: "README.md:14"
    testable: true
    quality_attributes:
      - id: "QA-001"
        name: "AIレビューの受入率"
        target: ">= 70%"
        verification:
          type: "measurement"
          command: "python scripts/calculate_acceptance_rate.py --time-period 7d"
          criteria:
            operator: ">="
            value: 70
            unit: "%"
          interpretation:
            success_means: "AIレビューの70%以上が人間に受け入れられている"
            failure_means: "AIレビューの精度が不足しており、調整が必要"

  - id: "CF-002"
    claim: "Markdown仕様書からコードを自動生成できる"
    source: "README.md:15"
    testable: true
    quality_attributes:
      - id: "QA-002"
        name: "生成コードの成功率"
        target: ">= 90%"
        verification:
          type: "measurement"
          command: "pytest tests/test_spec_to_code/ -v --tb=short"
          criteria:
            operator: ">="
            value: 90
            unit: "%"
          interpretation:
            success_means: "生成されたコードの90%以上がコンパイル/実行可能"
            failure_means: "仕様書の記述または生成ロジックに問題がある"

  - id: "CF-003"
    claim: "WorkflowのエラーをAIが自動修正できる"
    source: "README.md:16"
    testable: true

  - id: "CF-004"
    claim: "既存コードをAIでリファクタリングできる"
    source: "README.md:17"
    testable: true

  - id: "CF-005"
    claim: "ドキュメントを自動更新・生成できる"
    source: "README.md:23"
    testable: true

  - id: "CF-006"
    claim: "全てのAI ActionsがDry Run検証をパスする"
    source: "README.md:94"
    testable: true
    quality_attributes:
      - id: "QA-006"
        name: "テストカバレッジ"
        target: ">= 70%"
        verification:
          type: "measurement"
          command: "pytest --cov=. --cov-report=json --cov-fail-under=70"
          criteria:
            operator: ">="
            value: 70
            unit: "%"
          interpretation:
            success_means: "コードベースの70%以上がテストでカバーされている"
            failure_means: "テストされていないコードパスが30%以上ある"

# === Assumptions（仮定） ===
assumptions:
  - id: "ASM-001"
    field: "mission.target_user"
    value: "中規模〜大規模のGitHub組織（10人以上の開発チーム）"
    reason: "Self-hosted runnerの導入コストや複数のActionsを並行して運用するニーズがあるため"
    confidence: "medium"

  - id: "ASM-002"
    field: "quality_attributes.QA-001.target"
    value: "70%"
    reason: "業界標準のAIレビュー受入率（一般的に60-80%）を参考に設定"
    confidence: "medium"

  - id: "ASM-003"
    field: "core_functions.testable"
    value: "全てのCore Functionが検証可能である"
    reason: "README.mdに明記されている「Dry Run検証」機能により、各Actionの動作確認が可能"
    confidence: "high"

  - id: "ASM-004"
    field: "runtime_environment"
    value: "Ubuntu 20.04+ のSelf-hosted Runner上で動作"
    reason: "AGENTS.mdに記載されている推奨環境"
    confidence: "high"

# === Quality Attributes（共通） ===
quality_attributes:
  - id: "QA-COMMON-001"
    name: "テストカバレッジ"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "pytest --cov=. --cov-report=json"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "コードベースの70%以上がテストでカバーされている"
        failure_means: "テストされていないコードパスが30%以上ある"
        warning: "カバレッジが高くてもアサーションが弱ければ意味がない"

  - id: "QA-COMMON-002"
    name: "ドキュメント網羅性"
    target: "100%のActionsにREADMEとSetup Guideが存在"
    verification:
      type: "existence_check"
      command: "find actions/ -name 'README.md' | wc -l && find instructions/ -name '*.md' | wc -l"
      criteria:
        operator: "="
        value: 100
        unit: "%"
      interpretation:
        success_means: "全てのActionにドキュメントが存在"
        failure_means: "未ドキュメントのActionがある"

# === Non-Goals ===
non_goals:
  - "単なるシェルスクリプトのラッパー（既存のActionsで十分なもの）"
  - "完全に無人での運用（AIのハルシネーションリスクを考慮）"
  - "特定プロダクトに強く結合しすぎたロジック（再利用性を重視）"
