# Repository Intent (Source of Truth)
# This file defines the existence purpose and success criteria for the repository
version: "2.0"
updated_at: "2026-02-07T11:37:00Z"
updated_by: "audit-run-20260207-113720"

mission:
  id: "github-actions-actions"
  name: "AI Hub - GitHub Actions for AI-Native Development"
  purpose: |
    組織全体の開発効率と品質を向上させるための「AIネイティブなGitHub Actions」
    および「標準化ツール」を提供する**ハブ（Hub）**となること。

    **重要**: このリポジトリは、GitHub Actionsのワークフロー定義ファイルを直接実行するのではなく、
    各Actionの「実装例（examples/）」と「導入ガイド（instructions/）」を提供する雛形集である。
    各プロジェクトは、これらの雛形をコピーして自分のリポジトリで使用する。

  target_user:
    - "組織内の開発チーム"
    - "DevOpsエンジニア"
    - "プロジェクトリーダー"
  confidence: 1.0  # From PURPOSE.md

  repository_model: "action_hub"
  # action_hub: 雛形・ドキュメントを提供するHubモデル
  # direct_execution: ワークフローを直接実行するモデル（このリポジトリはこれではない）

quality_attributes:
  - attribute: "documentation_coverage"
    target: "100% (全Actionに導入ガイドあり)"
    current_assumption: "achieved"
    rationale: "導入障壁を下げるため"
    verification_method: "instructions/ ディレクトリの確認"

  - attribute: "example_quality"
    target: "全Actionに動作するexampleファイルあり"
    current_assumption: "in_progress"
    rationale: "ユーザーがコピーして使える雛形が必要"
    verification_method: "examples/ ディレクトリの確認"

  - attribute: "test_coverage"
    target: ">= 70%"
    current_assumption: "not_measured"
    rationale: "雛形の品質保証のため"
    verification_method: "pytest --cov --cov-report=term-missing"

  - attribute: "code_quality"
    target: "lintエラー 0件"
    current_assumption: "unverified"
    rationale: "保守性の確保"
    verification_method: "ruff check ."

core_functions:
  - id: "CF-001"
    name: "AI-powered Code Review雛形の提供"
    description: "review-and-merge Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/review-and-merge.md と examples/review-and-merge/ の存在確認"

  - id: "CF-002"
    name: "Spec-to-Code雛形の提供"
    description: "spec-to-code Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/spec-to-code.md と examples/spec-to-code/ の存在確認"

  - id: "CF-003"
    name: "Auto-Refactoring雛形の提供"
    description: "auto-refactor Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/auto-refactor.md と examples/auto-refactor/ の存在確認"

  - id: "CF-004"
    name: "Action Fixer雛形の提供"
    description: "action-fixer Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/action-fixer.md と examples/action-fixer/ の存在確認"

  - id: "CF-005"
    name: "Auto Document雛形の提供"
    description: "auto-document Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/auto-document.md と examples/auto-document/ の存在確認"

  - id: "CF-006"
    name: "Release Notes AI雛形の提供"
    description: "release-notes-ai Actionの導入ガイドとexampleを提供する"
    verification_method: "instructions/release-notes-ai.md と examples/release-notes-ai/ の存在確認"

assumptions:
  - id: "ASM-001"
    statement: "Python 3.11+ で動作する"
    status: "confirmed"
    evidence: "pyproject.tomlでPython 3.11+を指定。検証スクリプトがPython 3.11で正常動作することを確認（feedback_to_auditor.ymlより）"
    confidence: 1.0

  - id: "ASM-002"
    statement: "このリポジトリはAction Hubモデルである（雛形・ドキュメント提供）"
    status: "confirmed"
    evidence: "README.md, PURPOSE.md, ACTIONS.md で「雛形をコピーして使う」モデルが説明されている。examples/ と instructions/ ディレクトリが存在"
    confidence: 1.0

  - id: "ASM-003"
    statement: "GitHub Self-hosted runner 上で Claude Code CLI が利用可能"
    status: "unverified"
    verification_needed: true
    confidence: 0.8

  - id: "ASM-004"
    statement: "テストカバレッジ80%は適切な目標"
    status: "needs_review"
    evidence: "README.mdでは70%を目標としている。feedback_to_auditor.ymlでは80%を設定したが達成にはテスト追加が必要と指摘"
    recommended_action: "まずは主要なActionのテストを追加し、70%を目指す段階的アプローチへ"
    confidence: 0.6

success_criteria:
  - id: "SC-001"
    description: "全Actionに導入ガイド（instructions/）と実装例（examples/）が整備されていること"
    verification: "ls instructions/ && ls examples/"
    priority: "critical"

  - id: "SC-002"
    description: "テストカバレッジ >= 70%"
    verification: "pytest --cov --cov-report=term-missing"
    priority: "high"

  - id: "SC-003"
    description: "Lintエラー 0件"
    verification: "ruff check ."
    priority: "medium"

  - id: "SC-004"
    description: "README.mdの説明がHubモデルとして正確であること"
    verification: "README.mdに「雛形をコピーして使う」説明が含まれている"
    priority: "high"

non_goals:
  - "ワークフロー定義ファイルの直接実行（これはHubモデルではない）"
  - "各プロジェクトのワークフローを centrally manage すること"
  - "完全に無人での運用（AIのハルシネーションリスクを考慮）"
