version: "2.0"
updated_at: "2026-02-08T07:29:50Z"
updated_by: "audit-run-2026-02-08T07:29:50Z"

# === Mission ===
mission:
  target_user: "GitHub組織の開発チーム・DevOpsエンジニア"
  provided_value: "AIネイティブなGitHub Actionsを提供し、開発効率と品質を向上させる"
  desired_state: "組織全体の複数リポジトリでAI Actionsが採用され、人間が本質的な設計や意思決定に集中できる時間が増加している状態"

# === Assumptions（仮定） ===
assumptions:
  - id: "ASM-001"
    field: "mission.target_user"
    value: "Self-hosted GitHub Runnerを管理する組織"
    reason: "README.mdでSelf-hosted runner上でのClaude Code CLI実行を前提としているため"
    confidence: "high"

  - id: "ASM-002"
    field: "quality_attributes.test_coverage.target"
    value: ">= 70%"
    reason: "README.md:128-130 で「テストカバレッジ >= 70% を目標」と明記されているため"
    confidence: "high"

  - id: "ASM-003"
    field: "quality_attributes.acceptance_rate.target"
    value: ">= 70%"
    reason: "README.md:177 で「AIレビュー受入率」の目標値として記載されているため"
    confidence: "high"

  - id: "ASM-004"
    field: "deployment.environment"
    value: "Self-hosted GitHub Runner (Linux)"
    reason: "README.md:82-85 でSelf-hosted runnerを前提としているため"
    confidence: "high"

  - id: "ASM-005"
    field: "claude_cli.version"
    value: "最新の安定版 (Stable)"
    reason: "README.md:89 で「対応バージョン: 最新の安定版」と記載されているため"
    confidence: "medium"

# === Core Functions（存在意義） ===
core_functions:
  - id: "CF-001"
    claim: "13種類のAI Actionsを提供している（review-and-merge, spec-to-code, action-fixer, auto-refactor, auto-document, release-notes-ai, auto-merge, auto-rebase, review-auto-merge, publish-pr, bulk-merge-prs, bulk-rebase-prs, pr-review-enqueuer）"
    source: "README.md:8-47"
    testable: true

  - id: "CF-002"
    claim: "Claude Code CLIを活用し、コードの文脈を理解した高度な自動化を実現する"
    source: "README.md:3-4, PURPOSE.md:6-7"
    testable: true

  - id: "CF-003"
    claim: "カスタムレビュールール注入機能を提供し、プロジェクト固有のコーディング規約をAIレビューに反映できる"
    source: "README.md:65-77"
    testable: true

  - id: "CF-004"
    claim: "全てのAI ActionsはDry Runモードで自動検証される"
    source: "README.md:122-124"
    testable: true

  - id: "CF-005"
    claim: "匿名テレメトリー収集機能を提供し、Actionの使用状況を把握できる"
    source: "README.md:148-169"
    testable: true

  - id: "CF-006"
    claim: "AIレビュー品質メトリクス（受入率）を追跡・測定できる"
    source: "README.md:171-217"
    testable: true

# === Quality Attributes ===
quality_attributes:
  - id: "QA-001"
    name: "テストカバレッジ"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "pytest --cov=actions --cov=scripts --cov-report=term-missing --cov-fail-under=70"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "actions/ と scripts/ ディレクトリのコードの70%以上がテストで実行された"
        failure_means: "テストされていないコードパスが30%以上ある"
        warning: "カバレッジが高くてもアサーションが弱ければ意味がない"

  - id: "QA-002"
    name: "AIレビュー受入率"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "python scripts/calculate_acceptance_rate.py --output report"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "AIレビューの70%以上が人間に受け入れられている"
        failure_means: "AIレビューの品質が低く、修正や拒否が多い"
        warning: "データ収集段階ではベースライン値の算出が必要"

  - id: "QA-003"
    name: "YAML構文検証"
    target: "100% of Action YAMLs"
    verification:
      type: "validation"
      command: "find actions -name '*.yml' -exec yamllint {} +"
      criteria:
        operator: "=="
        value: 0
        unit: "errors"
      interpretation:
        success_means: "すべてのAction YAMLファイルが構文的に正しい"
        failure_means: "YAMLファイルに構文エラーがある"

  - id: "QA-004"
    name: "Dry Run検証"
    target: "100% of Actions"
    verification:
      type: "validation"
      command: "pytest tests/ -k dry_run"
      criteria:
        operator: ">="
        value: 100
        unit: "%"
      interpretation:
        success_means: "すべてのActionがDry Runモードで正常に実行できる"
        failure_means: "一部のActionがDry Run検証に失敗する"

# === Non-Goals ===
non_goals:
  - "単なるシェルスクリプトのラッパー（既存のActionsで十分なもの）"
  - "完全に無人での運用（AIのハルシネーションリスクを考慮）"
  - "特定プロダクトに強く結合しすぎたロジック（再利用性を重視）"
