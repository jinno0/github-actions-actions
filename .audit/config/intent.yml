version: "2.0"
updated_at: "2026-02-07T13:21:00Z"
updated_by: "audit-run-001"

mission:
  target_user: "組織内の開発チームおよびDevOpsエンジニア"
  provided_value: "AIネイティブなGitHub Actionsを提供し、開発効率と品質を向上させる"
  desired_state: "組織内の複数リポジトリでActionsが採用され、AIに任せられる雑務が増加した状態"

assumptions:
  - id: "ASM-001"
    field: "mission.target_user"
    value: "GitHub Organizationを使用する企業や組織"
    reason: "SYSTEM_CONSTITUTION.mdで「組織全体のGitHub Actions」に明記されている"
    confidence: "high"
  - id: "ASM-002"
    field: "mission.target_user"
    value: "Self-hosted runnerを運用している環境"
    reason: "README.mdで「Self-hosted runner上で動作するClaude Code CLI」を前提としている"
    confidence: "high"
  - id: "ASM-003"
    field: "quality_attributes.test_coverage"
    value: ">= 70%"
    reason: "README.mdに「このプロジェクトでは、テストカバレッジ >= 70% を目標としています」と明記"
    confidence: "high"
  - id: "ASM-004"
    field: "quality_attributes.acceptance_rate"
    value: ">= 70%"
    reason: "README.mdにAIレビューの受入率目標として「>= 70%」と記載されている"
    confidence: "high"
  - id: "ASM-005"
    field: "deployment"
    value: "Composite Actionsのみ"
    reason: "SYSTEM_CONSTITUTION.mdで「非Composite Action（Docker/JavaScript）は含まない」と明記"
    confidence: "high"
  - id: "ASM-006"
    field: "user_adoption"
    value: "2 pilot projects (ADOPTION.md参照)"
    reason: "README.mdに「Current adopters: (2 pilot projects)」と記載"
    confidence: "high"

quality_attributes:
  - id: "QA-001"
    name: "テストカバレッジ"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "pytest --cov=actions --cov=scripts --cov-fail-under=70"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "コードの70%以上がテストで実行されている"
        failure_means: "テストされていないコードパスが30%以上ある"
        warning: "カバレッジが高くてもアサーションが弱ければ意味がない"
  - id: "QA-002"
    name: "AIレビュー受入率"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "python scripts/calculate_acceptance_rate.py"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "AIによるレビュー提案の70%以上が人間に受け入れられている"
        failure_means: "AIレビューの品質が低く、人間に頻繁に修正されている"
  - id: "QA-003"
    name: "ドキュメントカバー率"
    target: "100%"
    verification:
      type: "measurement"
      command: "pytest tests/test_documentation_coverage.py"
      criteria:
        operator: "=="
        value: 100
        unit: "%"
      interpretation:
        success_means: "全てのActionに説明文と使用例が存在する"
        failure_means: "説明のないActionが存在する"

core_functions:
  - id: "CF-001"
    claim: "AIによるPRの自動レビューとマージができる"
    source: "README.md:14 (review-and-merge)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-002"
    claim: "Markdown仕様書からコードを自動生成できる"
    source: "README.md:15 (spec-to-code)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-003"
    claim: "WorkflowエラーをAIが自動修正できる"
    source: "README.md:16 (action-fixer)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-004"
    claim: "自然言語の指示でコードをリファクタリングできる"
    source: "README.md:17 (auto-refactor)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-005"
    claim: "コード変更を検知しドキュメントを自動更新できる"
    source: "README.md:23 (auto-document)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-006"
    claim: "コミット履歴から人間が読みやすいリリースノートを生成できる"
    source: "README.md:24 (release-notes-ai)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-007"
    claim: "PRが条件を満たす場合に自動マージできる"
    source: "README.md:30 (auto-merge)"
    testable: true
    requires: "GitHub Actionsのみ"
  - id: "CF-008"
    claim: "PRの競合をAIが自動解決しながらリベースできる"
    source: "README.md:31 (auto-rebase)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-009"
    claim: "AIレビュー後、CIパス時に自動マージできる"
    source: "README.md:32 (review-auto-merge)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-010"
    claim: "ドラフトPRを自動的にレビュー準備完了に変更できる"
    source: "README.md:33 (publish-pr)"
    testable: true
    requires: "GitHub Actionsのみ"
  - id: "CF-011"
    claim: "複数のPRを一括マージできる"
    source: "README.md:39 (bulk-merge-prs)"
    testable: true
    requires: "GitHub Actionsのみ"
  - id: "CF-012"
    claim: "複数のPRを一括リベースできる"
    source: "README.md:40 (bulk-rebase-prs)"
    testable: true
    requires: "Claude Code CLI"
  - id: "CF-013"
    claim: "PRをスキャンしAIレビューキューに自動登録できる"
    source: "README.md:46 (pr-review-enqueuer)"
    testable: true
    requires: "GitHub Actionsのみ"

non_goals:
  - "単なるシェルスクリプトのラッパー（既存のActionsで十分なもの）"
  - "完全に無人での運用（AIのハルシネーションリスクを考慮）"
  - "特定プロダクトに強く結合しすぎたロジック（再利用性を重視）"
