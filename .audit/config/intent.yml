version: "2.0"
updated_at: "2026-02-08T04:40:00Z"
updated_by: "audit-run-2026-02-08"

# === Mission ===
mission:
  target_user: "GitHub組織の開発チーム・DevOpsエンジニア"
  provided_value: "AIネイティブなGitHub Actionsを提供し、開発効率と品質を向上させる"
  desired_state: "組織全体の複数リポジトリでAI Actionsが採用され、AIに任せられる雑務が増加している状態"

# === Core Functions（このリポジトリができること）===
core_functions:
  - id: "CF-001"
    claim: "AIがPRのコードをレビューし、自動マージできる"
    source: "README.md:14, actions/review-and-merge/action.yml"
    testable: true

  - id: "CF-002"
    claim: "Markdown仕様書からコードを自動生成できる"
    source: "README.md:15, actions/spec-to-code/action.yml"
    testable: true

  - id: "CF-003"
    claim: "Workflowのエラーを検知し、AIが自動修正できる"
    source: "README.md:16, actions/action-fixer/action.yml"
    testable: true

  - id: "CF-004"
    claim: "自然言語の指示に基づき、既存コードをリファクタリングできる"
    source: "README.md:17, actions/auto-refactor/action.yml"
    testable: true

  - id: "CF-005"
    claim: "コードの変更を検知し、README等のドキュメントを自動更新できる"
    source: "README.md:23, actions/auto-document/action.yml"
    testable: true

  - id: "CF-006"
    claim: "コミット履歴から人間が読みやすいリリースノートを生成できる"
    source: "README.md:24, actions/release-notes-ai/action.yml"
    testable: true

  - id: "CF-007"
    claim: "PRが条件を満たす場合に自動マージできる"
    source: "README.md:30, actions/auto-merge/action.yml"
    testable: true

  - id: "CF-008"
    claim: "PRの競合をAIが自動解決しながらリベースできる"
    source: "README.md:31, actions/auto-rebase/action.yml"
    testable: true

  - id: "CF-009"
    claim: "複数のPRを一括マージできる"
    source: "README.md:39, actions/bulk-merge-prs/action.yml"
    testable: true

  - id: "CF-010"
    claim: "複数のPRを一括リベースできる"
    source: "README.md:40, actions/bulk-rebase-prs/action.yml"
    testable: true

# === Assumptions（仮定した前提）===
assumptions:
  - id: "ASM-001"
    field: "mission.target_user"
    value: "GitHub組織の開発チーム・DevOpsエンジニア"
    reason: "README.mdとPURPOSE.mdから「組織全体の開発効率」と「GitHub Actions」という記述から推測"
    confidence: "high"

  - id: "ASM-002"
    field: "test_coverage_target"
    value: ">= 70%"
    reason: "README.md:128に「テストカバレッジ >= 70% を目標」と明記されている"
    confidence: "high"

  - id: "ASM-003"
    field: "ai_review_acceptance_rate_target"
    value: ">= 70%"
    reason: "README.md:176に「AIレビュー受入率（目標: >= 70%）」と記載されている"
    confidence: "high"

  - id: "ASM-004"
    field: "runtime_environment"
    value: "Self-hosted runner with Claude Code CLI"
    reason: "README.md:4, PURPOSE.md:6, AGENTS.md:7に明示されている"
    confidence: "high"

# === Quality Attributes ===
quality_attributes:
  - id: "QA-001"
    name: "テストカバレッジ"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "pytest --cov=actions --cov=scripts --cov-report=term-missing"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "コードの70%以上がテストで実行されている"
        failure_means: "テストされていないコードパスが30%以上ある"
        warning: "カバレッジが高くてもアサーションが弱ければ意味がない"

  - id: "QA-002"
    name: "AIレビュー受入率"
    target: ">= 70%"
    verification:
      type: "measurement"
      command: "python scripts/calculate_acceptance_rate.py --time-period 30d"
      criteria:
        operator: ">="
        value: 70
        unit: "%"
      interpretation:
        success_means: "AIレビューの70%以上が人間に受け入れられている"
        failure_means: "AIレビューの品質が不十分で修正が頻発している"

  - id: "QA-003"
    name: "Action構造の検証"
    target: "100%のActionsが構造チェックをパス"
    verification:
      type: "test"
      command: "pytest tests/ -k 'test_action_yaml' -v"
      criteria:
        operator: "=="
        value: 100
        unit: "%"
      interpretation:
        success_means: "全てのActionがYAML構文と必須フィールドを満たしている"
        failure_means: "一部のActionで構造エラーが存在する"

# === 非目標（Non-goals）===
non_goals:
  - "単なるシェルスクリプトのラッパー（既存のActionsで十分なもの）"
  - "完全に無人での運用（AIのハルシネーションリスクを考慮）"
  - "特定プロダクトに強く結合しすぎたロジック（再利用性を重視）"
