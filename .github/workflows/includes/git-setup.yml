# Reusable git configuration snippet
# This should be sourced in actions that need to make git commits
# Usage: Include this in your action's run: block with . .github/workflows/includes/git-setup.yml

# Standard git user configuration (centralized to follow "1情報 = 1変数 = 1変数名" principle)
git_setup() {
  local git_name="${GIT_USER_NAME:-github-actions[bot]}"
  local git_email="${GIT_USER_EMAIL:-github-actions[bot]@users.noreply.github.com}"

  if ! git config user.name "$git_name" 2>/dev/null; then
    echo "Error: Failed to set git user.name" >&2
    return 1
  fi

  if ! git config user.email "$git_email" 2>/dev/null; then
    echo "Error: Failed to set git user.email" >&2
    return 1
  fi
}
